{% extends 'PequivenSEIPBundle:Template:Developer/Common/formLayoutShow.html.twig' %}

{% trans_default_domain 'PequivenSEIPBundle' %}

{% import 'PequivenSEIPBundle:Template:Developer/Macros/buttons.html.twig' as buttons %}

{% block before_body %}
    {{ contentHeader(
        ("pequiven_seip.report_template.load.notification"|trans ),
        ("pequiven_seip.report_template.load.production"|trans )
    ) }}
{% endblock %}

{% block body %}
    <fieldset class="fieldset">
        <legend class="legend">{{ 'pequiven_seip.report_template.report_template'|trans }}</legend>
        <div class="columns">
            <div class="new-row-mobile six-columns six-columns-tablet twelve-columns-mobile">
                <p class="inline-label">
                    <label class="label">{{ 'pequiven.ref'|trans({},'messages') }}</label>
                    {{ generateLink(report_template) }}
                </p>
            </div>
            <div class="new-row-tablet new-row-mobile six-columns twelve-columns-tablet">
                <p class="inline-label">
                    <label class="label">{{ 'pequiven_seip.period'|trans }}</label>
                    {{ report_template.period }}
                </p>
            </div>
            <div class="new-row new-row-tablet new-row-mobile six-columns twelve-columns-tablet">
                <p class="inline-label">
                    <label class="label">{{ 'pequiven_seip.name'|trans }}</label>
                    {{ report_template.name }}
                </p>
            </div>
            <div class="new-row-tablet new-row-mobile six-columns twelve-columns-tablet">
                <p class="inline-label">
                    <label class="label">{{ 'Company'|trans }}</label>
                    {{ report_template.company }}
                </p>
            </div>
            <div class="new-row-tablet new-row-mobile six-columns twelve-columns-tablet">
                <p class="inline-label">
                    <label class="label">{{ 'Location'|trans }}</label>
                    {{ report_template.location }}
                </p>
            </div>
            <div class="new-row-tablet new-row-mobile six-columns twelve-columns-tablet">
                <p class="inline-label">
                    <label class="label">{{ 'Region'|trans }}</label>
                    {{ report_template.region }}
                </p>
            </div>
        </div>
    </fieldset>
                    
    {#{% include 'PequivenSEIPBundle:DataLoad:ReportTemplate/show/plants.html.twig' %}#}
    
   <div class="with-padding">
        <p class="inline-label"><label class="label">{{ "pequiven_seip.date_of_notification"|trans }}</label>
            <a href="{{ path("pequiven_report_template_load",{id:report_template.id, dateNotification: (dateNotification|date_modify("-1 day")|date('d/m/Y'))}) }}" ><i class="fa fa-chevron-left fa-2x"></i></a>&nbsp;
            <input type="text" id="dateNotification" name="dateNotification" class="input" value="{{ dateNotification|date('d/m/Y') }}" />&nbsp;
            <a href="{{ path("pequiven_report_template_load",{id:report_template.id, dateNotification: (dateNotification|date_modify("+1 day")|date('d/m/Y'))}) }}" class="navigate-date"><i class="fa fa-chevron-right fa-2x"></i></a>
        </p>
    </div>
            
            {% for plantReport in report_template.plantReports %}
        
                <details class="details margin-bottom" open>
                    <summary><strong class="font-20">{{ "Plant"|trans }}&nbsp;-&nbsp;{{ plantReport }}</strong></summary>
                    <dl class="accordion same-height">
                        {% for productReport in plantReport.productsReport %}
                            <dt><i class="fa fa-cog"></i>&nbsp;<strong>{{ "Product"|trans }}&nbsp;-&nbsp;{{ productReport }}</strong></dt>
                            <dd>
                                <div class="with-padding">
                                    <div class="columns">
                                        <div class="twelve-columns twelve-columns-mobile">
                                            <h3 class="thin underline text-center">Producci√≥n e Inventario</h3>
                                        </div>
                                    </div>
                                    <div class="columns">
                                        <div class="five-columns twelve-columns-mobile">
                                            <table class="simple-table responsive-table responsive-table-on" id="sorting-example2">
                                                <thead>
                                                    <tr>
                                                        <th class="header text-center white-gradient" colspan="4">{{ "pequiven_seip.report_template.load.production"|trans }}&nbsp;{{ "pequiven_seip.gross"|trans }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th scope="col" style="width: 7%" class="header">Plan</th>
                                                        <th scope="col" style="width: 7%" class=" header">Real</th>
                                                        <th scope="col" style="width: 7%" class=" header">%</th>
                                                        <th scope="col" width="15%" class=" header">PNR</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th scope="row">
                                                            0
                                                        </th>
                                                        <td class=""><input type="text" class="input input-mini"></td>
                                                        <td class="">0</td>
                                                        <td class=""><small class="tag red-bg">0</small><small class="tag green-bg">0</small></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="four-columns twelve-columns-mobile">
                                            <table class="simple-table responsive-table responsive-table-on" id="sorting-example2">
                                                <thead>
                                                    <tr>
                                                        <th class="header text-center silver-gradient" colspan="3">{{ "pequiven_seip.report_template.load.production"|trans }}&nbsp;{{ "pequiven_seip.net"|trans }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th scope="col" style="width: 7%">Plan</th>
                                                        <th scope="col" style="width: 7%" class=" header">Real</th>
                                                        <th scope="col" style="width: 7%" class=" header">%</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th scope="row">
                                                            0
                                                        </th>
                                                        <td class=""><input type="text" class="input input-mini"></td>
                                                        <td class="">0</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="three-columns twelve-columns-mobile">
                                            <table class="simple-table responsive-table responsive-table-on" id="sorting-example2">
                                                <thead>
                                                    <tr>
                                                        <th class="header text-center grey-gradient" colspan="2" >{{ "pequiven_seip.inventory"|trans }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th scope="col" style="width: 7%">Plan</th>
                                                        <th scope="col" style="width: 7%" class=" header">Real</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th scope="row">
                                                            0
                                                        </th>
                                                        <td class=""><input type="text" class="input input-mini"></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="columns">
                                        <div class="twelve-columns twelve-columns-mobile">
                                            <h3 class="thin underline text-center">Consumo y Observaciones</h3>
                                        </div>
                                    </div>
                                    <div class="columns">
                                        <div class="five-columns twelve-columns-mobile">
                                            <table class="simple-table responsive-table responsive-table-on" id="sorting-example2">
                                                <thead>
                                                    <tr>
                                                        <th class="header text-center silver-gradient" colspan="3">{{ "pequiven_seip.report_template.raw_material"|trans }}</th>
                                                    </tr>
                                                    <tr>
                                                        <th scope="col" style="width: 7%">{{ "Product"|trans }}</th>
                                                        <th scope="col" style="width: 7%">Plan</th>
                                                        <th scope="col" style="width: 7%" class=" header">Real</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for rawMaterialConsumptionPlanning in productReport.rawMaterialConsumptionPlannings %}
                                                        <tr>
                                                            <th scope="row">
                                                                {{ rawMaterialConsumptionPlanning }}
                                                            </th>
                                                            <td >0</td>
                                                            <td class=""><input type="text" class="input input-mini"></td>
                                                        </tr>
                                                    {% else %}
                                                        <tr>
                                                            <td colspan="3" class="empty_row">
                                                                {{ "empty.no_raw_material"|trans }}
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="seven-columns twelve-columns-mobile">
                                            <textarea cols="40" rows="10" placeholder="Observaciones...">
                                                
                                            </textarea>
                                        </div>
                                    </div>
                                </div>
                            </dd>
                        {% endfor  %}
                    </dl>
                </details>
                
            {% endfor %}
            
            {% include 'PequivenSEIPBundle:DataLoad:ReportTemplate/show/services.html.twig' %}
    
    <br /><br />
     
    {#<p class="button-height align-right">
        {{ buttons.generic(path('pequiven_report_template_update', { 'id': report_template.id }),('pequiven.edit'|trans({},'messages'))) }}
        &nbsp;
        {{ buttons.delete(path('pequiven_report_template_delete', { 'id': report_template.id })) }}
    </p>#}
    {{ form_rest(form) }}
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        $(document).ready(function(){
            $('#dateNotification').datepicker({
                 changeMonth: true,
                 dateFormat: "dd/mm/yy"
            }).on("change",function(){
                var changeToDate = $(this).val();
                var url = Routing.generate("pequiven_report_template_load",{id: "{{ report_template.id }}" ,dateNotification:changeToDate });
                window.location.href = url;
            });
        });
    </script>
{% endblock %}