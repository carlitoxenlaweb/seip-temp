{% extends 'PequivenSEIPBundle:Template:Developer/Common/formLayout.html.twig' %}

{% trans_default_domain 'PequivenIndicatorBundle' %}

{% import 'PequivenSEIPBundle:Template:Developer/Macros/actions.html.twig' as actions %}

{% set labelHeader = {
        (constant('Pequiven\\IndicatorBundle\\Model\\IndicatorLevel::LEVEL_ESTRATEGICO')):'pequiven_indicator.indicator_strategic',
        (constant('Pequiven\\IndicatorBundle\\Model\\IndicatorLevel::LEVEL_TACTICO')):'pequiven_indicator.indicator_tactic',
        (constant('Pequiven\\IndicatorBundle\\Model\\IndicatorLevel::LEVEL_OPERATIVO')):'pequiven_indicator.indicator_operative',
    } %}

{% set indicator = value_indicator_config.indicator %}
{% set level = indicator.indicatorLevel.level %}

{% block before_body %}
    {{ contentHeader(
        {(path('pequiven_indicator_list',{'level':level})):(labelHeader[level])|trans},
        { (path('pequiven_indicator_show',{'id':indicator.id})): (indicator.ref)},
        ('pequiven_indicator.indicator.details_results'|trans())
    ) }}
{% endblock %}

{% block body %}
    {{ dump(_context|keys) }}
    {% set labelTypeDetailValue = indicator.getLabelTypeDetailValue|trans %}
    {{ form_start(form) }}
       {{ form_top(form) }}
       <fieldset class="fieldset fields-list">
           <legend class="legend">{{ 'pequiven_indicator.indicator.details_results'|trans }}&nbsp;<b>({{ labelTypeDetailValue }})</b></legend>
           {% if form.products is defined %}
               <div class="field-block button-height">
                    {{ form_label(form.products) }}
                    {{ form_widget(form.products) }}
                    {{ form_errors(form.products) }}
               </div>
           {% endif %}
       </fieldset>
       <br /><br />
       {{ actions.create() }}
    </form>
{% endblock %}